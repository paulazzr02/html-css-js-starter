// ========================================
// Flex 유틸리티 클래스
// @group utilities
// @description Flexbox 레이아웃 및 정렬 제어 유틸리티 (BEM 기반)
// ========================================

@use 'sass:list';
@use 'abstracts/config' as *;

// 모든 flex 관련 맵은 config에서 가져옴 (재사용)
// $flex-options-map, $justify-content-map, $align-items-map

// [Flex Container & Options] .u-flex, .u-flex-row, .u-flex-wrap 등
.u-flex {
    display: flex !important;

    @each $key, $value in $flex-options-map {
        &-#{$key} {
            @if list.index((row, column, row-reverse, column-reverse), $key) {
                flex-direction: #{$value} !important;
            } @else {
                flex-wrap: #{$value} !important;
            }
        }
    }
}

// [Flex Direction - Reverse] 독립적으로 사용 가능
// .u-flex-row-reverse, .u-flex-column-reverse
// display: flex를 포함하여 독립적으로 사용 가능
.u-flex-row-reverse {
    display: flex !important;
    flex-direction: row-reverse !important;
}

.u-flex-column-reverse {
    display: flex !important;
    flex-direction: column-reverse !important;
}

// [Justify Content] .u-justify-start, .u-justify-between 등
.u-justify-content {
    @each $key, $value in $justify-content-map {
        &-#{$key} {
            justify-content: #{$value} !important;
        }
    }
}

// [Align Items] .u-align-center, .u-align-stretch 등
.u-align-items {
    @each $key, $value in $align-items-map {
        &-#{$key} {
            align-items: #{$value} !important;
        }
    }
}

// [Flex Grow & Shrink] .u-flex-grow-1, .u-flex-shrink-0 등
@for $i from 0 through 5 {
    .u-flex-grow-#{$i} {
        flex-grow: $i !important;
    }
    .u-flex-shrink-#{$i} {
        flex-shrink: $i !important;
    }
}

// [Flex Fill]
.u-flex-fill {
    flex: 1 1 auto !important;
}
